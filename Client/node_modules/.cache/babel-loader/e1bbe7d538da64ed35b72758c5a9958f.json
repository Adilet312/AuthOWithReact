{"ast":null,"code":"var _jsxFileName = \"/home/amt/Desktop/BooksReact/src/components/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport { without, findIndex } from 'lodash';\nimport Library from './Library.js';\nimport SortedBooks from './SortedBooks.js';\nimport AddBook from './AddBook.js';\nimport './css/App.css';\n\nconst App = () => {\n  const [getBookList, setBookList] = useState([]);\n  const [getSortBy, setSortBy] = useState('descending');\n  const [toggle, setToggle] = useState(true);\n  const [indexId, setIndexId] = useState(0);\n  useEffect(() => {\n    fetch('./bookList.json').then(data => data.json()).then(data => {\n      let currentIndex = indexId;\n      data.map(book => {\n        book.bookId = currentIndex++;\n        return book;\n      });\n      setIndexId(currentIndex);\n      setBookList(data);\n    }).catch(error => console.log(error));\n  }, []);\n\n  const addBook = (event, new_book) => {\n    event.preventDefault();\n    setBookList([...getBookList, new_book]);\n  };\n\n  const deleteBook = book => {\n    let tempBooks = without(getBookList, book);\n    setBookList(tempBooks);\n  };\n\n  const updateBook = (key, value, id) => {\n    let tempBooks = getBookList;\n    let findCurrentBookIndex = findIndex(tempBooks, {\n      bookId: id\n    });\n    tempBooks[findCurrentBookIndex][key] = value;\n    setBookList(tempBooks);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(AddBook, {\n    sendBook: addBook,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(SortedBooks, {\n    bookList: getBookList,\n    sortBy: getSortBy,\n    deleteBook: deleteBook,\n    updateBookProperties: updateBook,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default App;\n/*\n1.List all the books\n2.Sort books by ascending and descending order\n3.Search\n<div className = 'add-book'><span className = 'add open' onClick = { (event) => {\n\tlet spanClass = event.target.classList;\n\tif(spanClass.contains('open') ){\n\t\tspanClass.remove('open');\n\t\tevent.target.innerText = \"-\";\n\t\tspanClass.add('close');\n\t}\n\telse{\n\t\tspanClass.remove('close');\n\t\tevent.target.innerText = \"+\";\n\t\tspanClass.add('open');\n\t}\n\n}\n}>+</span></div>\n*/","map":{"version":3,"sources":["/home/amt/Desktop/BooksReact/src/components/App.js"],"names":["React","useState","useEffect","without","findIndex","Library","SortedBooks","AddBook","App","getBookList","setBookList","getSortBy","setSortBy","toggle","setToggle","indexId","setIndexId","fetch","then","data","json","currentIndex","map","book","bookId","catch","error","console","log","addBook","event","new_book","preventDefault","deleteBook","tempBooks","updateBook","key","value","id","findCurrentBookIndex"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAuBC,SAAvB,QAAuC,OAAvC;AACA,SAAQC,OAAR,EAAgBC,SAAhB,QAAgC,QAAhC;AACA,OAAOC,OAAP,MAAoB,cAApB;AACA,OAAOC,WAAP,MAAwB,kBAAxB;AACA,OAAOC,OAAP,MAAoB,cAApB;AACA,OAAO,eAAP;;AACA,MAAMC,GAAG,GAAG,MAAK;AAChB,QAAM,CAAEC,WAAF,EAAeC,WAAf,IAA+BT,QAAQ,CAAC,EAAD,CAA7C;AACA,QAAM,CAAEU,SAAF,EAAaC,SAAb,IAA2BX,QAAQ,CAAC,YAAD,CAAzC;AACA,QAAM,CAAEY,MAAF,EAAUC,SAAV,IAAwBb,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAAEc,OAAF,EAAWC,UAAX,IAA0Bf,QAAQ,CAAC,CAAD,CAAxC;AACAC,EAAAA,SAAS,CAAC,MAAK;AACde,IAAAA,KAAK,CAAC,iBAAD,CAAL,CACCC,IADD,CACOC,IAAI,IAAIA,IAAI,CAACC,IAAL,EADf,EAECF,IAFD,CAEOC,IAAI,IAAI;AACd,UAAIE,YAAY,GAAGN,OAAnB;AACAI,MAAAA,IAAI,CAACG,GAAL,CAAUC,IAAI,IAAI;AACjBA,QAAAA,IAAI,CAACC,MAAL,GAAcH,YAAY,EAA1B;AACA,eAAOE,IAAP;AACA,OAHD;AAIAP,MAAAA,UAAU,CAACK,YAAD,CAAV;AACAX,MAAAA,WAAW,CAACS,IAAD,CAAX;AAEA,KAXD,EAYCM,KAZD,CAYQC,KAAK,IAAIC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAZjB;AAaA,GAdQ,EAcP,EAdO,CAAT;;AAeA,QAAMG,OAAO,GAAG,CAACC,KAAD,EAAOC,QAAP,KAAoB;AACnCD,IAAAA,KAAK,CAACE,cAAN;AACAtB,IAAAA,WAAW,CAAC,CAAC,GAAGD,WAAJ,EAAgBsB,QAAhB,CAAD,CAAX;AACA,GAHD;;AAKA,QAAME,UAAU,GAAIV,IAAD,IAAS;AAC3B,QAAIW,SAAS,GAAG/B,OAAO,CAACM,WAAD,EAAac,IAAb,CAAvB;AACAb,IAAAA,WAAW,CAACwB,SAAD,CAAX;AACA,GAHD;;AAKA,QAAMC,UAAU,GAAG,CAACC,GAAD,EAAKC,KAAL,EAAWC,EAAX,KAAiB;AACnC,QAAIJ,SAAS,GAAIzB,WAAjB;AACA,QAAI8B,oBAAoB,GAAGnC,SAAS,CAAC8B,SAAD,EAAW;AAACV,MAAAA,MAAM,EAAEc;AAAT,KAAX,CAApC;AACAJ,IAAAA,SAAS,CAACK,oBAAD,CAAT,CAAgCH,GAAhC,IAAuCC,KAAvC;AACA3B,IAAAA,WAAW,CAACwB,SAAD,CAAX;AACA,GALD;;AAMA,sBACG,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,OAAD;AAAS,IAAA,QAAQ,EAAIL,OAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,WAAD;AAAc,IAAA,QAAQ,EAAIpB,WAA1B;AAAwC,IAAA,MAAM,EAAIE,SAAlD;AAA6D,IAAA,UAAU,EAAIsB,UAA3E;AAAuF,IAAA,oBAAoB,EAAIE,UAA/G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADH;AAMA,CA1CD;;AA2CA,eAAe3B,GAAf;AACA","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport {without,findIndex} from 'lodash';\nimport Library from './Library.js';\nimport SortedBooks from './SortedBooks.js';\nimport AddBook from './AddBook.js';\nimport './css/App.css';\nconst App = () =>{\n\tconst [ getBookList, setBookList ] = useState([]);\n\tconst [ getSortBy, setSortBy ] = useState('descending');\n\tconst [ toggle, setToggle ] = useState(true);\n\tconst [ indexId, setIndexId ] = useState(0);\n\tuseEffect(() =>{\n\t\tfetch('./bookList.json')\n\t\t.then( data => data.json())\n\t\t.then( data => {\n\t\t\tlet currentIndex = indexId;\n\t\t\tdata.map( book => {\n\t\t\t\tbook.bookId = currentIndex++;\n\t\t\t\treturn(book)\n\t\t\t})\n\t\t\tsetIndexId(currentIndex)\n\t\t\tsetBookList(data)\n\n\t\t})\n\t\t.catch( error => console.log(error));\n\t},[])\n\tconst addBook = (event,new_book) => {\n\t\tevent.preventDefault();\n\t\tsetBookList([...getBookList,new_book]);\n\t}\n\n\tconst deleteBook = (book) =>{\n\t\tlet tempBooks = without(getBookList,book);\n\t\tsetBookList(tempBooks);\n\t}\n\n\tconst updateBook = (key,value,id) =>{\n\t\tlet tempBooks  = getBookList;\n\t\tlet findCurrentBookIndex = findIndex(tempBooks,{bookId: id});\n\t\ttempBooks[findCurrentBookIndex][key] = value;\n\t\tsetBookList(tempBooks);\n\t}\n\treturn(\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<AddBook sendBook = {addBook}/>\n\t\t\t\t\t\t<SortedBooks  bookList = {getBookList}  sortBy = {getSortBy} deleteBook = {deleteBook} updateBookProperties = {updateBook}/>\n\t\t\t\t</React.Fragment>\n\t)\n}\nexport default App;\n/*\n1.List all the books\n2.Sort books by ascending and descending order\n3.Search\n<div className = 'add-book'><span className = 'add open' onClick = { (event) => {\n\tlet spanClass = event.target.classList;\n\tif(spanClass.contains('open') ){\n\t\tspanClass.remove('open');\n\t\tevent.target.innerText = \"-\";\n\t\tspanClass.add('close');\n\t}\n\telse{\n\t\tspanClass.remove('close');\n\t\tevent.target.innerText = \"+\";\n\t\tspanClass.add('open');\n\t}\n\n}\n}>+</span></div>\n*/\n"]},"metadata":{},"sourceType":"module"}