{"ast":null,"code":"import _regeneratorRuntime from\"/home/amt/Desktop/LyndaCopy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/amt/Desktop/LyndaCopy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/amt/Desktop/LyndaCopy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,Fragment}from'react';import Movies from'../Movies/Movies';import MovieDetail from'../MovieDetail/MovieDetail';import Navigation from'../Navigation/Navigation';import Search from'../Search/Search';import{BrowserRouter as Router,Switch,Route,Link}from\"react-router-dom\";import'./App.css';export var ArtContext=React.createContext();var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),videos=_useState2[0],setVideos=_useState2[1];var _useState3=useState(localStorage.getItem('search')||'Plein Air Essentials'),_useState4=_slicedToArray(_useState3,2),searchTerm=_useState4[0],setSearchTerm=_useState4[1];useEffect(function(){var getVideos=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var request,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('https://orangevalleycaa.org/api/videos');case 2:request=_context.sent;_context.next=5;return request.json();case 5:response=_context.sent;setVideos(response);case 7:case\"end\":return _context.stop();}}},_callee);}));return function getVideos(){return _ref.apply(this,arguments);};}();getVideos();},[]);var deleteArt=function deleteArt(e,givenId){e.preventDefault();var tempArts=videos.filter(function(art){return art.id!==givenId;});setVideos(tempArts);};{/*Search*/}useEffect(function(){localStorage.setItem('search',searchTerm);},[searchTerm]);var onSearch=function onSearch(event){return setSearchTerm(event.target.value);};var searchVideos=videos.filter(function(video){return video.name.toLowerCase().includes(searchTerm.toLowerCase());});return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(Navigation,null),/*#__PURE__*/React.createElement(Search,{searchTerm:searchTerm,onSearch:onSearch}),/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\",render:function render(props){return/*#__PURE__*/React.createElement(ArtContext.Provider,{value:deleteArt},\" \",/*#__PURE__*/React.createElement(Movies,{videos:videos}));}}),/*#__PURE__*/React.createElement(Route,{path:\"/art/:artId\",render:function render(props){var artId=Number(props.match.params.artId);var arrayOfArts=videos.filter(function(art){return Number(art.id)===artId&&art;});var _arrayOfArts=_slicedToArray(arrayOfArts,1),art=_arrayOfArts[0];return/*#__PURE__*/React.createElement(MovieDetail,{art:art});}}))));};export default App;","map":{"version":3,"sources":["/home/amt/Desktop/LyndaCopy/src/components/App/App.js"],"names":["React","useState","useEffect","Fragment","Movies","MovieDetail","Navigation","Search","BrowserRouter","Router","Switch","Route","Link","ArtContext","createContext","App","videos","setVideos","localStorage","getItem","searchTerm","setSearchTerm","getVideos","fetch","request","json","response","deleteArt","e","givenId","preventDefault","tempArts","filter","art","id","setItem","onSearch","event","target","value","searchVideos","video","name","toLowerCase","includes","props","artId","Number","match","params","arrayOfArts"],"mappings":"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","sourcesContent":["import React,{useState, useEffect,Fragment} from 'react';\nimport Movies  from '../Movies/Movies';\nimport MovieDetail  from '../MovieDetail/MovieDetail';\nimport Navigation from '../Navigation/Navigation';\nimport Search from '../Search/Search';\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport './App.css';\nexport const ArtContext = React.createContext();\nconst App = () =>{\n\n  const [videos,setVideos] = useState([]);\n  const [searchTerm, setSearchTerm ] = useState(\n    localStorage.getItem('search') || 'Plein Air Essentials'\n  )\n  useEffect(() =>{\n    const getVideos = async () =>{\n      const request = await fetch('https://orangevalleycaa.org/api/videos');\n      const response = await request.json();\n      setVideos(response);\n    }\n    getVideos();\n  },[])\n  const deleteArt = (e,givenId) =>{\n    e.preventDefault();\n    let tempArts = videos.filter( art => art.id!==givenId);\n    setVideos(tempArts);\n  }\n  {/*Search*/}\n  useEffect(() =>{\n    localStorage.setItem('search',searchTerm);\n  },[searchTerm]);\n  const onSearch = (event) => setSearchTerm(event.target.value);\n  const searchVideos = videos.filter(video => video.name.toLowerCase().includes(searchTerm.toLowerCase()));\n\n  return(\n    <Fragment>\n    <Router>\n      <Navigation/>\n      <Search searchTerm = {searchTerm} onSearch = {onSearch}/>\n      <Switch>\n\n        <Route exact path = '/' render = { (props) =>{\n           return<ArtContext.Provider value = {deleteArt}> <Movies videos = {videos}/></ArtContext.Provider>\n          }\n         }/>\n        <Route  path='/art/:artId' render = {(props) => {\n          let artId = Number(props.match.params.artId);\n          let arrayOfArts = videos.filter(art => Number(art.id)===artId && art );\n          let [ art ] = arrayOfArts;\n          return <MovieDetail art = {art}/>\n\n        }}/>\n      </Switch>\n    </Router>\n    </Fragment>\n  )\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}